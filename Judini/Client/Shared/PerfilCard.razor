@using Judini.Client.Infraestructura

@inject IdentityAuthenticationStateProvider authStateProvider

<MudCard Elevation="0" Square="true">
    <MudCardHeader>
        <CardHeaderAvatar>
            <MudAvatar Color="Color.Secondary">@this.SesionActual.Nombre.FirstOrDefault()@this.SesionActual.Apellido.FirstOrDefault()</MudAvatar>
        </CardHeaderAvatar>
        <CardHeaderContent>
            <MudText Typo="Typo.body2">@this.SesionActual.Nombre @this.SesionActual.Apellido</MudText>
            <MudText Typo="Typo.caption">@this.SesionActual.Email</MudText>
        </CardHeaderContent>
    </MudCardHeader>
</MudCard>

@code {
    SesionActualResponse SesionActual { get; set; } = new SesionActualResponse();

    protected override async Task OnInitializedAsync()
    {
        this.SesionActual = await this.authStateProvider.ObtenerSesionActual();
    }
}